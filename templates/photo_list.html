{% extends "base.html" %}
{% block title %}Gallery{% endblock %}

{% block content %}

<!-- ðŸ”¹ TAG FILTER (NEW) -->
<h5 class="mb-3">Filter by Tag</h5>

<div class="mb-4">
  {% for tag in tags %}
    <a
      href="?tag={{ tag.name }}"
      class="btn btn-outline-warning btn-sm {% if tag.name == active_tag %}active{% endif %}"
    >
      {{ tag.name }}
    </a>
  {% empty %}
    <span class="text-muted">No tags yet.</span>
  {% endfor %}
</div>

<!-- ðŸ”¹ PHOTO GRID (UNCHANGED) -->
<h2 class="mb-4">Explore Photos</h2>

<div class="row">
  {% for photo in photos %}
    <div class="col-lg-4 col-md-6 mb-4">
      <div class="card h-100 shadow-sm">
        <img src="{{ photo.image.url }}" class="card-img-top" alt="{{ photo.title }}">

        <div class="card-body">
          <h5 class="card-title">{{ photo.title }}</h5>
          <p class="card-text text-muted small">
            by {{ photo.uploaded_by.username }}
          </p>

          <a
            href="{% url 'photo-detail' photo.id %}"
            class="btn btn-outline-warning btn-sm"
          >
            View Details
          </a>
        </div>
      </div>
    </div>
  {% empty %}
    <p>No photos uploaded yet.</p>
  {% endfor %}
</div>

{% endblock %}
